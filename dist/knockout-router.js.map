{"version":3,"file":null,"sources":["../node_modules/qs/lib/utils.js","../node_modules/qs/lib/stringify.js","../node_modules/qs/lib/parse.js","../node_modules/qs/lib/index.js","../node_modules/rollup-plugin-typescript/src/typescript-helpers.js","../src/utils.ts","../src/context.ts","../node_modules/path-to-regexp/node_modules/isarray/index.js","../node_modules/path-to-regexp/index.js","../src/route.ts","../src/bindings.ts","../src/router.ts"],"sourcesContent":["'use strict';\n\nvar hexTable = (function () {\n    var array = new Array(256);\n    for (var i = 0; i < 256; ++i) {\n        array[i] = '%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase();\n    }\n\n    return array;\n}());\n\nexports.arrayToObject = function (source, options) {\n    var obj = options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function (target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            target[source] = true;\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (Object.prototype.hasOwnProperty.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function (str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D || // -\n            c === 0x2E || // .\n            c === 0x5F || // _\n            c === 0x7E || // ~\n            (c >= 0x30 && c <= 0x39) || // 0-9\n            (c >= 0x41 && c <= 0x5A) || // a-z\n            (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)] + hexTable[0x80 | ((c >> 12) & 0x3F)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nexports.compact = function (obj, references) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n\n    var refs = references || [];\n    var lookup = refs.indexOf(obj);\n    if (lookup !== -1) {\n        return refs[lookup];\n    }\n\n    refs.push(obj);\n\n    if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0; i < obj.length; ++i) {\n            if (obj[i] && typeof obj[i] === 'object') {\n                compacted.push(exports.compact(obj[i], refs));\n            } else if (typeof obj[i] !== 'undefined') {\n                compacted.push(obj[i]);\n            }\n        }\n\n        return compacted;\n    }\n\n    var keys = Object.keys(obj);\n    for (var j = 0; j < keys.length; ++j) {\n        var key = keys[j];\n        obj[key] = exports.compact(obj[key], refs);\n    }\n\n    return obj;\n};\n\nexports.isRegExp = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function (obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n","'use strict';\n\nvar Utils = require('./utils');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar defaults = {\n    delimiter: '&',\n    strictNullHandling: false,\n    skipNulls: false,\n    encode: true,\n    encoder: Utils.encode\n};\n\nvar stringify = function stringify(object, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = obj.toISOString();\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder ? encoder(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || Utils.isBuffer(obj)) {\n        if (encoder) {\n            return [encoder(prefix) + '=' + encoder(obj)];\n        }\n        return [prefix + '=' + String(obj)];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots));\n        } else {\n            values = values.concat(stringify(obj[key], prefix + (allowDots ? '.' + key : '[' + key + ']'), generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts || {};\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = encode ? (typeof options.encoder === 'function' ? options.encoder : defaults.encoder) : null;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var objKeys;\n    var filter;\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        objKeys = filter = options.filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(obj[key], key, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots));\n    }\n\n    return keys.join(delimiter);\n};\n","'use strict';\n\nvar Utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    delimiter: '&',\n    depth: 5,\n    arrayLimit: 20,\n    parameterLimit: 1000,\n    strictNullHandling: false,\n    plainObjects: false,\n    allowPrototypes: false,\n    allowDots: false,\n    decoder: Utils.decode\n};\n\nvar parseValues = function parseValues(str, options) {\n    var obj = {};\n    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos));\n            val = options.decoder(part.slice(pos + 1));\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function parseObject(chain, val, options) {\n    if (!chain.length) {\n        return val;\n    }\n\n    var root = chain.shift();\n\n    var obj;\n    if (root === '[]') {\n        obj = [];\n        obj = obj.concat(parseObject(chain, val, options));\n    } else {\n        obj = options.plainObjects ? Object.create(null) : {};\n        var cleanRoot = root[0] === '[' && root[root.length - 1] === ']' ? root.slice(1, root.length - 1) : root;\n        var index = parseInt(cleanRoot, 10);\n        if (\n            !isNaN(index) &&\n            root !== cleanRoot &&\n            String(index) === cleanRoot &&\n            index >= 0 &&\n            (options.parseArrays && index <= options.arrayLimit)\n        ) {\n            obj = [];\n            obj[index] = parseObject(chain, val, options);\n        } else {\n            obj[cleanRoot] = parseObject(chain, val, options);\n        }\n    }\n\n    return obj;\n};\n\nvar parseKeys = function parseKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^\\.\\[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var parent = /^([^\\[\\]]*)/;\n    var child = /(\\[[^\\[\\]]*\\])/g;\n\n    // Get the parent\n\n    var segment = parent.exec(key);\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (segment[1]) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, segment[1])) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(segment[1]);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].replace(/\\[|\\]/g, ''))) {\n            if (!options.allowPrototypes) {\n                continue;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts || {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.delimiter = typeof options.delimiter === 'string' || Utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = Utils.merge(obj, newObj, options);\n    }\n\n    return Utils.compact(obj);\n};\n","'use strict';\n\nvar Stringify = require('./stringify');\nvar Parse = require('./parse');\n\nmodule.exports = {\n    stringify: Stringify,\n    parse: Parse\n};\n","export const __assign = Object.assign || function (target) {\n    for (var source, i = 1; i < arguments.length; i++) {\n        source = arguments[i];\n        for (var prop in source) {\n            if (Object.prototype.hasOwnProperty.call(source, prop)) {\n                target[prop] = source[prop];\n            }\n        }\n    }\n    return target;\n};\n\nexport function __extends(d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport function __decorate(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __metadata(k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n}\n\nexport function __param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n}\n","/**\r\n * Copyright (c) 2016 Dmitry Panyushkin\r\n * Available under MIT license\r\n */\r\nimport * as ko from \"knockout\";\r\nimport * as qs from \"qs\";\r\n\r\nexport const arrayFirst = ko.utils.arrayFirst;\r\nexport const objectForEach = ko.utils.objectForEach;\r\nexport const extend = ko.utils.extend;\r\n\r\nexport function inherit<T, U>(target: T, source: U): T & U {\r\n    if (source) {\r\n        for (let prop in source) {\r\n            if (source.hasOwnProperty(prop) && !target.hasOwnProperty(prop)) {\r\n                target[prop] = source[prop];\r\n            }\r\n        }\r\n    }\r\n    return target as any;\r\n}\r\n\r\nexport function startsWith(str: string, search: string): boolean {\r\n    search = String(search);\r\n    let length = search.length;\r\n    return length === 0 || str.substr(0, length) === search;\r\n}\r\n\r\nexport function endsWith(str: string, search: string): boolean {\r\n    search = String(search);\r\n    let length = search.length;\r\n    return length === 0 || str.substr(-length) === search;\r\n}\r\n\r\nexport class RouterTag { }\r\n\r\nexport function getParentRouter(bindingContext: ko.BindingContext<any>): any {\r\n    return arrayFirst(bindingContext.$parents, vm => vm instanceof RouterTag);\r\n}\r\n\r\nexport function getPath(url: string): string {\r\n    return url.split(\"#\")[0].split(\"?\")[0];\r\n}\r\n\r\nexport function getUrl({ pathname, search, hash }): string {\r\n    return pathname + search + (hash || \"\");\r\n}\r\n\r\nexport function resolveUrl(rootUrl = \"\", path = \"\", query = null) {\r\n    return (startsWith(path, \"~/\") ? rootUrl + path.substr(1) : path)\r\n         + (query ? \"?\" + qs.stringify(ko.toJS(query)) : \"\");\r\n}\r\n\r\nexport function eventWhich(event): number {\r\n    event = event || window.event;\r\n    return null === event.which ? event.button : event.which;\r\n}\r\n\r\nexport function sameOrigin(href): boolean {\r\n    let origin = location.protocol + \"//\" + location.hostname;\r\n    if (location.port) {\r\n        origin += \":\" + location.port;\r\n    }\r\n    return href && (0 === href.indexOf(origin));\r\n}\r\n\r\nconst bindingProvider = new ko.bindingProvider();\r\nconst bindingOptions = { bindingParams: true };\r\n\r\nexport type ParamsBindings = Object & { [name: string]: any };\r\n\r\nexport function getParamsBindings(\r\n    element: Element, context: ko.BindingContext<any>\r\n): ParamsBindings {\r\n    let paramsString = element.getAttribute(\"params\");\r\n    if (!paramsString) {\r\n        return {};\r\n    }\r\n    return bindingProvider.parseBindingsString(\r\n        paramsString, context, element, bindingOptions\r\n    );\r\n}","/**\r\n * Copyright (c) 2016 Dmitry Panyushkin\r\n * Available under MIT license\r\n */\r\nimport * as ko from \"knockout\";\r\nimport { ParamsBindings, inherit, objectForEach } from \"./utils.ts\";\r\n\r\nexport interface RouteContext {\r\n    params: Object & {\r\n        [key: string]: any\r\n    },\r\n    state: any,\r\n    route: any,\r\n    url: any,\r\n}\r\n\r\nexport class ComponentParams implements RouteContext {\r\n    params: Object & {\r\n        [key: string]: ko.Observable<any>\r\n    } = {};\r\n    state = ko.observable<any>();\r\n    route = ko.observable<string>();\r\n    url = ko.observable<string>();\r\n\r\n    constructor(context: RouteContext, restParams: ParamsBindings) {\r\n        this.update(context);\r\n        inherit(this, restParams);\r\n    }\r\n\r\n    update(context: RouteContext) {\r\n        let { params, state, route, url } = context;\r\n        objectForEach(params, (key, value) => {\r\n            let observable = this.params[key];\r\n            if (observable) {\r\n                observable(value);\r\n            } else {\r\n                this.params[key] = ko.observable(value);\r\n            }\r\n        });\r\n        objectForEach(this.params, (key, observable) => {\r\n            if (!params.hasOwnProperty(key)) {\r\n                observable(null);\r\n            }\r\n        })\r\n        this.state(state);\r\n        this.route(route);\r\n        this.url(url);\r\n    }\r\n}","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string} str\n * @return {!Array}\n */\nfunction parse (str) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || '/'\n    var pattern = capture || group || (asterisk ? '.*' : '[^' + delimiter + ']+?')\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: escapeGroup(pattern)\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str) {\n  return tokensToFunction(parse(str))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  var tokens = parse(path)\n  var re = tokensToRegExp(tokens, options)\n\n  // Attach keys back to the regexp.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] !== 'string') {\n      keys.push(tokens[i])\n    }\n  }\n\n  return attachKeys(re, keys)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n  var lastToken = tokens[tokens.length - 1]\n  var endsWithSlash = typeof lastToken === 'string' && /\\/$/.test(lastToken)\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)'\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || []\n\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys)\n    keys = []\n  } else if (!options) {\n    options = {}\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","/**\r\n * Copyright (c) 2016 Dmitry Panyushkin\r\n * Available under MIT license\r\n */\r\nimport * as ko from \"knockout\";\r\nimport * as pathToRegexp from \"path-to-regexp\";\r\nimport * as qs from \"qs\";\r\nimport { RouteContext } from \"./context.ts\";\r\nimport { ParamsBindings, getParamsBindings, extend } from \"./utils.ts\";\r\n\r\n// work-around typescript commonjs module export\r\nconst _pathToRegexp = (pathToRegexp as any).default;\r\n\r\nexport type Action = (context: RouteContext) => Promise<void> | void;\r\n\r\nexport class Route {\r\n    component: string;\r\n    route: string;\r\n    action: Action;\r\n    context: RouteContext;\r\n    restParams: ParamsBindings;\r\n\r\n    private re: pathToRegexp.PathRegExp;\r\n    private keys: (string | number)[];\r\n\r\n    constructor(\r\n        node: Element,\r\n        bindingContext: ko.BindingContext<any>,\r\n        routePrefix: string,\r\n        actions: Object\r\n    ) {\r\n        this.component = ko.components.getComponentNameForNode(node);\r\n        this.restParams = getParamsBindings(node, bindingContext);\r\n\r\n        let { route, action } = this.restParams;\r\n        delete this.restParams['route'];\r\n        delete this.restParams['action'];\r\n\r\n        route = route \r\n            || node.getAttribute(\"data-route\")\r\n            || node.getAttribute(\"route\") ;\r\n        action = action\r\n            || node.getAttribute(\"data-action\")\r\n            || node.getAttribute(\"action\");\r\n        \r\n        this.route = routePrefix + route;\r\n        this.action = noop;\r\n\r\n        if (typeof action === \"function\") {\r\n            this.action = action;\r\n        } else if (typeof action === \"string\") {\r\n            if (actions.hasOwnProperty(action)) {\r\n                this.action = actions[action];\r\n            } else {\r\n                ko.components.defaultLoader.getConfig(this.component, config => {\r\n                    if (config.hasOwnProperty(action)) {\r\n                        this.action = config[action];\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        this.re = _pathToRegexp(this.route);\r\n        this.keys = this.re.keys.map(k => k.name);\r\n    }\r\n\r\n    dispatch(url: string): boolean {\r\n        let [path, queryString] = url.split(\"?\");\r\n        let matches = this.re.exec(path);\r\n        if (!matches) {\r\n            return false;\r\n        }\r\n        \r\n        let params = {};\r\n        for (let i = 1; i < matches.length; ++i) {\r\n            params[this.keys[i - 1]] = matches[i];\r\n        }\r\n\r\n        extend(params, qs.parse(queryString));\r\n\r\n        this.context = {\r\n            params: params,\r\n            state: null,\r\n            route: this.route,\r\n            url: matches[0],\r\n        };\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\nfunction noop() {}","/**\r\n * Copyright (c) 2016 Dmitry Panyushkin\r\n * Available under MIT license\r\n */\r\nimport * as ko from \"knockout\";\r\nimport {\r\n    RouterTag, getParentRouter,\r\n    resolveUrl, eventWhich, getUrl\r\n} from  \"./utils.ts\";\r\nimport { navigate } from \"./router.ts\";\r\n\r\n// 'query:' and 'activePathCss:' bindings works only with 'path:' binding together\r\nko.bindingHandlers['path'] = {\r\n    init(el, va, ab, vm, ctx) { \r\n        applyBinding.call(this, el, ab, ctx);\r\n    }\r\n};\r\n\r\nexport const bindingsCurrentPath = ko.observable(location.pathname);\r\n\r\nfunction applyBinding(\r\n    el: Element,\r\n    allBindings: ko.AllBindingsAccessor,\r\n    ctx: ko.BindingContext<any>\r\n) {\r\n    let router = getParentRouter(ko.contextFor(el));\r\n    let rootUrl = router && router.rootUrl || \"\";\r\n    let bindingsToApply = {};\r\n\r\n    let url = ko.pureComputed(() => resolveUrl(\r\n        rootUrl, allBindings.get(\"path\"), allBindings.get(\"query\")\r\n    ));\r\n\r\n    if (el.tagName.toLocaleUpperCase() === \"A\") {\r\n        bindingsToApply['attr'] = { href: url }\r\n    } else {\r\n        bindingsToApply['click'] = (data, e) => {\r\n            let debounce = 1 !== eventWhich(e);\r\n            let hasOtherTarget = el.hasAttribute(\"target\");\r\n            let hasExternalRel = el.getAttribute(\"rel\") === \"external\";\r\n            let modifierKey = e.metaKey || e.ctrlKey || e.shiftKey;\r\n\r\n            if (debounce || hasOtherTarget || hasExternalRel || modifierKey) {\r\n                return true;\r\n            }\r\n\r\n            let handled = navigate(url());\r\n            if (handled) {\r\n                e.preventDefault()\r\n                e.stopImmediatePropagation()\r\n            }\r\n            return !handled;\r\n        };\r\n    }\r\n\r\n    let activePathCss = allBindings.get(\"activePathCss\");\r\n    if (activePathCss) {\r\n        let path = ko.pureComputed(() => resolveUrl(\r\n            rootUrl, allBindings.get(\"path\")\r\n        ));\r\n\r\n        bindingsToApply['css'] = {\r\n            [activePathCss]: ko.pureComputed(() => path() === bindingsCurrentPath())\r\n        };\r\n    }\r\n\r\n    // allow adjacent routers to initialize\r\n    ko.tasks.schedule(() => ko.applyBindingsToNode(el, bindingsToApply, ctx));\r\n}","/**\r\n * Copyright (c) 2016 Dmitry Panyushkin\r\n * Available under MIT license\r\n */\r\nimport * as ko from \"knockout\";\r\nimport {\r\n    RouterTag, getParentRouter, arrayFirst, inherit, \r\n    getUrl, getPath, eventWhich, sameOrigin\r\n} from \"./utils.ts\";\r\nimport { RouteContext, ComponentParams } from \"./context.ts\";\r\nimport { Route, Action } from \"./route.ts\";\r\nimport { bindingsCurrentPath } from \"./bindings.ts\";\r\n\r\nconst CLICK_EVENT = typeof document !== \"undefined\" && document.ontouchstart\r\n    ? \"touchstart\" : \"click\";\r\n\r\nconst ROUTERS: Router[] = [];\r\n\r\nlet NAV_REQ_NUMBER = 0;\r\n\r\nexport interface RouterOptions {\r\n    rootUrl?: string,\r\n    routePrefix?: string,\r\n    onNavStart: () => void,\r\n    onNavFinish: () => void,\r\n    actions?: Object & {\r\n        [key: string]: Action,\r\n    }\r\n}\r\n\r\nclass Router extends RouterTag {\r\n    rootUrl: string;\r\n    routePrefix: string;\r\n    onNavStart: () => void;\r\n    onNavFinish: () => void;\r\n    actions: Object;\r\n    route: Route = null;\r\n    navReqNumber: number;\r\n    \r\n    private routes: Route[] = [];\r\n    private binding = ko.observable<{\r\n        name: string,\r\n        params: ComponentParams,\r\n    }>();\r\n    \r\n    constructor(element: Element, routeNodes: Element[], { \r\n        rootUrl, routePrefix, onNavStart, onNavFinish, actions\r\n    }: RouterOptions) {\r\n        super();\r\n\r\n        ROUTERS.push(this);\r\n        if (ROUTERS.length === 1) {\r\n            addEventListener(CLICK_EVENT, onLinkClick, false);\r\n            addEventListener(\"popstate\", onPopState, false);\r\n        }\r\n\r\n        rootUrl = rootUrl\r\n            || element.getAttribute(\"data-rootUrl\")\r\n            || element.getAttribute(\"rootUrl\");\r\n        routePrefix = routePrefix\r\n            || element.getAttribute(\"data-routePrefix\") \r\n            || element.getAttribute(\"routePrefix\");\r\n\r\n        let bindingContext = ko.contextFor(element);\r\n        let parentRouter = getParentRouter(bindingContext) as Router;\r\n\r\n        if (!parentRouter) {\r\n            this.rootUrl = rootUrl || \"\";\r\n            this.routePrefix = this.rootUrl + (routePrefix || \"\");\r\n            this.actions = actions || {};\r\n            this.navReqNumber = NAV_REQ_NUMBER;\r\n        } else {\r\n            if (typeof rootUrl === \"string\") {\r\n                throw new Error(\"Only top-level router can specify 'rootUrl'\");\r\n            }\r\n            // inherited from parent\r\n            this.rootUrl = parentRouter.rootUrl;\r\n            // concatenated with parent\r\n            this.routePrefix = parentRouter.routePrefix + (routePrefix || \"\");\r\n            // inherited from parent\r\n            this.actions = inherit(actions || {}, parentRouter.actions);\r\n            // inherited from parent\r\n            this.navReqNumber = parentRouter.navReqNumber;\r\n        }\r\n        this.onNavStart = onNavStart || noop;\r\n        this.onNavFinish = onNavFinish || noop;\r\n\r\n        this.routes = routeNodes.map(node => new Route(\r\n            node, bindingContext, this.routePrefix, this.actions\r\n        ));\r\n\r\n        this.dispatchAndNavigate(getUrl(location));\r\n    }\r\n\r\n    dispose() {\r\n        ROUTERS.splice(ROUTERS.indexOf(this), 1);\r\n        if (ROUTERS.length === 0) {\r\n            removeEventListener(CLICK_EVENT, onLinkClick, false);\r\n            removeEventListener(\"popstate\", onPopState, false);\r\n        }\r\n    }\r\n\r\n    dispatch(url: string) {\r\n        this.onNavStart();\r\n\r\n        this.route = arrayFirst(this.routes, route => route.dispatch(url));\r\n        if (!this.route) {\r\n            return;\r\n        }\r\n\r\n        let binding = this.binding();\r\n        let { component, context, action } = this.route;\r\n\r\n        if (binding && binding.name === component) {\r\n            context.state = binding.params.state();\r\n        }\r\n\r\n        return action(context) as Promise<void>;\r\n    }\r\n\r\n    navigate() {\r\n        if (this.navReqNumber !== NAV_REQ_NUMBER) {\r\n            return;\r\n        }\r\n        if (!this.route) {\r\n            this.binding(null);\r\n            this.onNavFinish();\r\n            return;\r\n        }\r\n        \r\n        let { component, context, restParams } = this.route;\r\n        let binding = this.binding();\r\n\r\n        if (binding && binding.name === component) {\r\n            binding.params.update(context);\r\n        } else {\r\n            this.binding({\r\n                name: component,\r\n                params: new ComponentParams(context, restParams),\r\n            });\r\n            ko.tasks.runEarly();\r\n        }\r\n\r\n        this.route = null;\r\n        this.onNavFinish();\r\n    }\r\n\r\n    dispatchAndNavigate(url: string) {\r\n        let promise = this.dispatch(url);\r\n        if (!promise) {\r\n            this.navigate();\r\n        } else {\r\n            promise.then(() => { this.navigate() });\r\n        }\r\n    }\r\n}\r\n\r\nexport function navigate(url: string, replace = false): boolean {\r\n    // pending navigation request can be aborted by subsequent navigate call\r\n    let navReqNumber = ++NAV_REQ_NUMBER;\r\n\r\n    let promises = ROUTERS\r\n        .map(router => router.dispatch(url))\r\n        .filter(promise => !!promise);\r\n\r\n    let status = !!arrayFirst(ROUTERS, router => !!router.route);\r\n    \r\n    // TODO: store and load history state\r\n    if (status && typeof history !== \"undefined\") {\r\n        if (replace) {\r\n            history.replaceState(null, null, url);\r\n        } else {\r\n            history.pushState(null, null, url);\r\n        }\r\n    }\r\n\r\n    let applyNavigation = () => {\r\n        if (navReqNumber !== NAV_REQ_NUMBER) {\r\n            return;\r\n        }\r\n        ROUTERS.forEach(router => {\r\n            router.navReqNumber = NAV_REQ_NUMBER; \r\n            router.navigate();\r\n        });\r\n        if (status) {\r\n            bindingsCurrentPath(getPath(url));\r\n        }\r\n    };\r\n\r\n    if (promises.length == 0) {\r\n        applyNavigation();\r\n    } else {\r\n        Promise.all(promises).then(applyNavigation);\r\n    }\r\n    return status;\r\n}\r\n\r\n// Safari and Crome before v.34 triggers \"popstate\" event\r\n// immediately after widow \"load\" event\r\nlet popStateOnLoad = true;\r\n\r\naddEventListener(\"load\", () => {\r\n    setTimeout(() => { popStateOnLoad = false; })\r\n});\r\n\r\nfunction onPopState(event: PopStateEvent) {\r\n    if (popStateOnLoad || event.defaultPrevented) {\r\n        return;\r\n    }\r\n    if (navigate(getUrl(location), true)) {\r\n        event.preventDefault();\r\n    }\r\n}\r\n\r\nfunction onLinkClick(event: MouseEvent) {\r\n    let target = event.target as HTMLAnchorElement;\r\n    while (target && \"A\" !== target.nodeName) {\r\n        target = target.parentNode as HTMLAnchorElement;\r\n    }\r\n    if (!target || \"A\" !== target.nodeName) {\r\n        return; \r\n    }\r\n\r\n    const isDoubleClick = 1 !== eventWhich(event);\r\n    const hasModifier = event.metaKey || event.ctrlKey || event.shiftKey;\r\n    const isDownload = target.hasAttribute(\"download\");\r\n    const hasOtherTarget = target.hasAttribute(\"target\");\r\n    const hasExternalRel = target.getAttribute(\"rel\") === \"external\";\r\n    const isMailto = ~(target.getAttribute(\"href\") || \"\").indexOf(\"mailto:\");\r\n    const isCrossOrigin = !sameOrigin(target.href);\r\n    const isEmptyHash = target.getAttribute(\"href\") === \"#\";\r\n\r\n    if (isCrossOrigin || isDoubleClick || isDownload || isEmptyHash ||\r\n        isMailto || hasExternalRel || hasModifier || hasOtherTarget\r\n    ) {\r\n        return;\r\n    }\r\n\r\n    if (navigate(getUrl(target))) {\r\n         event.preventDefault();\r\n    }\r\n}\r\n\r\nfunction noop() {}\r\n\r\nko.components.register(\"knockout-router\", {\r\n    synchronous: true,\r\n    viewModel: {\r\n        createViewModel: (params, { element, templateNodes }) => {\r\n            return new Router(\r\n                element as Element,\r\n                templateNodes.filter(n => n.nodeType === 1) as Element[],\r\n                params as any\r\n            );\r\n        },\r\n    },\r\n    template: `<div data-bind=\"if: binding\"><div data-bind=\"component: binding\"></div></div>`,\r\n});"],"names":["commonjsHelpers.interopDefault","qs.stringify","pathToRegexp.default","noop","qs.parse"],"mappings":"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"}